<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrario degli Arpisti</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Metamorphous&display=swap');
    </style>
</head>
<body>
    <header>
        <h1>Cifrario degli Arpisti</h1>
    </header>
    
    <main id="app">
        <!-- Elenco Messaggi -->
        <div class="message-view" id="messageListView">
            <h2>Messaggi Disponibili</h2>
            <div class="message-list" id="messageList">
                <!-- Stato di caricamento -->
                <div class="loading" id="loadingIndicator">
                    <div class="loading-icon"></div>
                    <p>Caricamento dei messaggi...</p>
                </div>
                
                <!-- Messaggio di nessun messaggio disponibile -->
                <div class="no-messages" id="noMessagesIndicator" style="display: none;">
                    <p>Nessun messaggio disponibile al momento.</p>
                </div>
            </div>
        </div>
        
        <!-- Modal per l'inserimento della chiave -->
        <div class="modal" id="keyInputModal">
            <div class="modal-content">
                <h3>Digita la Chiave di Lettura</h3>
                <div class="key-input-container">
                    <input type="text" class="key-input" id="keyInput" placeholder="Inserisci la chiave...">
                </div>
                <button class="decrypt-button" id="decryptButton">
                    <span class="lock-icon">🔓</span> Decifra
                </button>
                <button class="back-button" id="backToListFromKey">
                    <span class="home-icon">🏠</span> Messaggi Disponibili
                </button>
            </div>
        </div>
        
        <!-- Visualizzazione del messaggio decifrato -->
        <div class="modal" id="decryptedMessageModal">
            <div class="modal-content">
                <h3>Il messaggio prende forma davanti ai tuoi occhi</h3>
                <div class="message-display" id="decryptedMessage">
                    <!-- Qui verrà visualizzato il messaggio decifrato -->
                </div>
                <button class="back-button" id="backToListFromMessage">
                    <span class="home-icon">🏠</span> Messaggi Disponibili
                </button>
            </div>
        </div>
        
        <!-- Messaggio di errore -->
        <div class="modal" id="errorMessageModal">
            <div class="modal-content">
                <h3>Il messaggio che prende forma davanti ai tuoi occhi non sembra avere alcun senso compiuto.</h3>
                <p class="error-message">Probabilmente la chiave di lettura non è corretta.</p>
                <button class="back-button" id="backToKeyInput">
                    <span class="lock-icon">🔑</span> Riprova
                </button>
                <button class="back-button" id="backToListFromError">
                    <span class="home-icon">🏠</span> Messaggi Disponibili
                </button>
            </div>
        </div>
    </main>
    
    <script src="script.js"></script>
</body>
</html>